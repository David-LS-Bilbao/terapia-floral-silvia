<!-----
<header class="border-b border-slate-200 bg-white/80 backdrop-blur">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <div class="h-8 w-8 rounded-full bg-[#C77DFF]"></div>
      <a href="/" class="font-semibold">Terapia Floral Silvia Adame</a>
    </div>
    <nav class="hidden md:flex gap-6 text-sm">
      <a href="/terapia-floral-silvia/" class="hover:text-purple-600">Inicio</a>
      <a href="/terapia-floral-silvia/servicios" class="hover:text-purple-600">Servicios</a>
      <a href="/terapia-floral-silvia/que-es" class="hover:text-purple-600">¿Qué es?</a>
      <a href="/terapia-floral-silvia/contacto" class="hover:text-purple-600">Contacto</a>
      <a href="/legal/aviso-legal" class="hover:text-purple-600">Aviso legal</a>
      <a href="/legal/privacidad" class="hover:text-purple-600">Privacidad</a>
      <a href="/legal/cookies" class="hover:text-purple-600">Cookies</a>
    </nav>
  </div>
</header>

--- -->

---
const base = import.meta.env.BASE_URL || "/";

// Normaliza con barra final para comparar correctamente
const normalize = (p: string) => (p.endsWith("/") ? p : p + "/");

// Ruta actual (incluye el base en GitHub Pages)
const here = normalize(Astro.url.pathname);

// Links del sitio (añade/quita según tus páginas)
const links = [
  { href: normalize(`${base}`),                label: "Inicio" },
  { href: normalize(`${base}servicios/`),      label: "Servicios" },
  { href: normalize(`${base}que-es/`),         label: "Qué es" },
  { href: normalize(`${base}mindfulness/`),    label: "Mindfulness" },
  { href: normalize(`${base}contacto/`),       label: "Contacto" },
  // { href: normalize(`${base}flores/`),      label: "Flores de Bach" }, // cuando la habilites
];

// Helper para aplicar estilos de enlace activo
const isActive = (href: string) => here === href;
---
<header class="bg-[#FFF7F1]/80 backdrop-blur supports-[backdrop-filter]:bg-[#FFF7F1]/60 border-b border-slate-200">
  <div class="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between">
    <!-- Logo / Marca -->
    <a href={base} class="flex items-center gap-2 font-semibold text-slate-800" aria-label="Ir al inicio">
      <span class="inline-block w-3 h-3 rounded-full bg-[#9FB8AD]" />
      <span>Terapia Floral — Silvia Adame</span>
    </a>

    <!-- Navegación -->
    <nav class="flex items-center gap-5 text-sm" aria-label="Principal">
      {links.map((l) => (
        <a
          href={l.href}
          class={`px-1 py-2 transition-colors hover:underline ${
            isActive(l.href) ? "text-slate-900 font-semibold underline" : "text-slate-700"
          }`}
          aria-current={isActive(l.href) ? "page" : undefined}
        >
          {l.label}
        </a>
      ))}
    </nav>
  </div>
</header>


